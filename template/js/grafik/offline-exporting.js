/*
 Highcharts JS v9.2.2 (2021-08-24)

 Client side exporting module

 (c) 2015-2021 Torstein Honsi / Oystein Moseng

 License: www.highcharts.com/license
*/
'use strict';(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(e){b(e);b.Highcharts=e;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function e(a,b,e,k){a.hasOwnProperty(b)||(a[b]=k.apply(null,e))}b=b?b._modules:{};e(b,"Extensions/DownloadURL.js",[b["Core/Globals.js"]],function(a){var b=a.win,e=b.navigator,k=b.document,z=b.URL||b.webkitURL||b,y=/Edge\/\d+/.test(e.userAgent);a.dataURLtoBlob=function(a){if((a=a.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<a.length&&b.atob&&b.ArrayBuffer&&b.Uint8Array&&b.Blob&&z.createObjectURL){var c=b.atob(a[3]),d=new b.ArrayBuffer(c.length);d=new b.Uint8Array(d);for(var f=0;f<d.length;++f)d[f]=c.charCodeAt(f);a=new b.Blob([d],{type:a[1]});return z.createObjectURL(a)}};a.downloadURL=function(h,x){var d=k.createElement("a");if("string"===typeof h||h instanceof String||!e.msSaveOrOpenBlob){if(y||2E6<h.length)if(h=a.dataURLtoBlob(h),!h)throw Error("Failed to convert to blob");if("undefined"!==typeof d.download)d.href=h,d.download=x,k.body.appendChild(d),d.click(),k.body.removeChild(d);else try{var f=b.open(h,"chart");if("undefined"===typeof f||null===f)throw Error("Failed to open window");}catch(A){b.location.href=h}}else e.msSaveOrOpenBlob(h,x)}});e(b,"Extensions/OfflineExporting/OfflineExportingDefaults.js",[],function(){return{libURL:"https://code.highcharts.com/9.2.2/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}});e(b,"Extensions/OfflineExporting/OfflineExporting.js",[b["Core/Chart/Chart.js"],b["Core/Globals.js"],b["Core/DefaultOptions.js"],b["Core/HttpUtilities.js"],b["Extensions/OfflineExporting/OfflineExportingDefaults.js"],b["Core/Utilities.js"]],function(a,b,e,k,z,y){function h(c,a){var d=f.getElementsByTagName("head")[0],b=f.createElement("script");b.type="text/javascript";b.src=c;b.onload=a;b.onerror=function(){console.error("Error loading script",c)};d.appendChild(b)}var x=b.win,d=x.navigator,f=x.document,A=e.defaultOptions,p=y.addEvent,B=y.error,q=y.extend,t=y.fireEvent,u=y.merge;A.exporting=u(A.exporting,z);b.downloadURL=function(c,a){var d=f.createElement("a");if("string"===typeof c||c instanceof String||!navigator.msSaveOrOpenBlob){c=c.replace(/^data:image\/svg\+xml/,"data:image/svg+xml;charset=utf-8");if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([c]),a);if("undefined"!==typeof d.download)d.href=c,d.download=a,f.body.appendChild(d),d.click(),f.body.removeChild(d);else try{var b=x.open(c,"chart");if("undefined"===typeof b||null===b)throw Error("Failed to open window");}catch(m){x.location.href=c}}else navigator.msSaveOrOpenBlob(c,a)};a.prototype.exportChartLocal=function(c,a){var d=this,g=u(d.options.exporting,c),m=g.type||"image/png",l=g.scale||2;"image/svg+xml"===m?d.getSVGForLocalExport(g,a||{},function(){var a=d.getSVG(u({chart:{borderRadius:0}},g.chartOptions,a,{exporting:{sourceWidth:g.sourceWidth||d.chartWidth,sourceHeight:g.sourceHeight||d.chartHeight}}));b.downloadURL("data:"+m+";charset=utf-8,"+encodeURIComponent(a),g.filename||d.getFilename())}):"application/pdf"===m?d.exportToPDF(g,a):d.exportToCanvas(g,a,function(a){b.downloadURL(a.toDataURL(m),g.filename||d.getFilename())})};a.prototype.exportToCanvas=function(c,a,d){var g=this,b=g.container.getElementsByTagName("svg")[0],l=u(g.options.exporting,c),f=l.scale||2,e=l.sourceWidth||g.chartWidth,h=l.sourceHeight||g.chartHeight,k=new x.Image,p=function(){var c=document.createElement("canvas");c.width=e*f;c.height=h*f;c.getContext("2d").drawImage(k,0,0,e*f,h*f);d(c)};k.onload=p;g.getSVGForLocalExport(l,a||{},function(){var a=g.getSVG(u({chart:{animation:!1,borderRadius:0}},l.chartOptions,a,{exporting:{sourceWidth:e,sourceHeight:h}})),c=(new x.DOMParser).parseFromString(a,"image/svg+xml").getElementsByTagName("svg")[0];a="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(c));k.src=a;k.onerror=function(){B("Failed to convert SVG to image")}})};a.prototype.exportToPDF=function(c,a){var d=this,b=u(d.options.exporting,c),e=b.scale||2,l=b.sourceWidth||d.chartWidth,f=b.sourceHeight||d.chartHeight,p=function(){x.jsPDF?x.canvg?d.exportToCanvas(b,a,function(a){var c=new x.jsPDF("landscape");c.addImage(a.toDataURL("image/jpeg"),"JPEG",0,0,l,f);x.saveAs?x.saveAs(new Blob([c.output("blob")],{type:"application/pdf"}),b.filename||d.getFilename()):c.save((b.filename||d.getFilename())+".pdf")}):(B("The canvg library is required for client side PDF export"),h(b.libURL+"canvg.js",function(){p()})):(B("The jsPDF library is required for client side PDF export"),h(b.libURL+"jspdf.js",function(){h(b.libURL+"svg2pdf.js",function(){p()})}))};p()};a.prototype.getSVGForLocalExport=function(a,b,d){var c=this,e=0,f,l=function(){e===f.length&&d(c.sanitizeSVG(c.container.innerHTML,a))};t(c,"getSVG",{chartCopy:c});f=c.container.getElementsByTagName("image");try{if(!f.length){d(c.sanitizeSVG(c.container.innerHTML,a));return}Array.prototype.forEach.call(f,function(c){var d=c.getAttribute("href")||"";if(/^data:/.test(d)||!d||c.getAttribute("data-dataURL"))e++,l();else{var b=new x.Image;b.crossOrigin="anonymous";b.onload=function(){var a=document.createElement("canvas"),e=a.getContext("2d");a.height=b.height;a.width=b.width;e.drawImage(b,0,0);c.setAttribute("data-dataURL",a.toDataURL());l()};b.onerror=function(){console.error("Failed to load image",d);e++;l()};b.src=d}})}catch(C){d(c.sanitizeSVG(c.container.innerHTML,a))}};b.Chart.prototype.exportChartLocal||(p(a,"init",function(){var a=this;a.exporting={update:function(c,d){u(!0,a.options.exporting,c);d&&a.redraw()}}}),q(a.prototype,{exportChartLocal:a.prototype.exportChartLocal,getSVGForLocalExport:a.prototype.getSVGForLocalExport,exportToCanvas:a.prototype.exportToCanvas,exportToPDF:a.prototype.exportToPDF}))});e(b,"masters/modules/offline-exporting.src.js",[b["Core/Globals.js"]],function(a){""})});